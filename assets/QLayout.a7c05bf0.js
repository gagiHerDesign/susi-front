import{u as C,a6 as D,a9 as N,c,h as f,z as M,g as P,i as W,x as q,r as z,w as S,A as _,at as A,y as O,au as k,av as U,o as j,aw as I,C as K,a1 as G,ax as J,ay as X,az as Y,a4 as B,H as Q,a as Z,v as ee}from"./index.83949514.js";import{Q as V}from"./QResizeObserver.c5610b00.js";var le=C({name:"QList",props:{...D,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:m}){const l=P(),a=N(e,l.proxy.$q),n=c(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>f(e.tag,{class:n.value},M(m.default))}}),ie=C({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:m,emit:l}){const{proxy:{$q:a}}=P(),n=W(O,q);if(n===q)return console.error("QHeader needs to be child of QLayout"),q;const r=z(parseInt(e.heightHint,10)),u=z(!0),y=c(()=>e.reveal===!0||n.view.value.indexOf("H")>-1||a.platform.is.ios&&n.isContainer.value===!0),h=c(()=>{if(e.modelValue!==!0)return 0;if(y.value===!0)return u.value===!0?r.value:0;const t=r.value-n.scroll.value.position;return t>0?t:0}),s=c(()=>e.modelValue!==!0||y.value===!0&&u.value!==!0),w=c(()=>e.modelValue===!0&&s.value===!0&&e.reveal===!0),b=c(()=>"q-header q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(s.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),p=c(()=>{const t=n.rows.value.top,v={};return t[0]==="l"&&n.left.space===!0&&(v[a.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),t[2]==="r"&&n.right.space===!0&&(v[a.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),v});function i(t,v){n.update("header",t,v)}function g(t,v){t.value!==v&&(t.value=v)}function T({height:t}){g(r,t),i("size",t)}function H(t){w.value===!0&&g(u,!0),l("focusin",t)}S(()=>e.modelValue,t=>{i("space",t),g(u,!0),n.animate()}),S(h,t=>{i("offset",t)}),S(()=>e.reveal,t=>{t===!1&&g(u,e.modelValue)}),S(u,t=>{n.animate(),l("reveal",t)}),S(n.scroll,t=>{e.reveal===!0&&g(u,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const $={};return n.instances.header=$,e.modelValue===!0&&i("size",r.value),i("space",e.modelValue),i("offset",h.value),_(()=>{n.instances.header===$&&(n.instances.header=void 0,i("size",0),i("offset",0),i("space",!1))}),()=>{const t=A(m.default,[]);return e.elevated===!0&&t.push(f("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(f(V,{debounce:0,onResize:T})),f("header",{class:b.value,style:p.value,onFocusin:H},t)}}}),re=C({name:"QPageContainer",setup(e,{slots:m}){const{proxy:{$q:l}}=P(),a=W(O,q);if(a===q)return console.error("QPageContainer needs to be child of QLayout"),q;k(U,!0);const n=c(()=>{const r={};return a.header.space===!0&&(r.paddingTop=`${a.header.size}px`),a.right.space===!0&&(r[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(r.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(r[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),r});return()=>f("div",{class:"q-page-container",style:n.value},M(m.default))}});const{passive:E}=G,te=["both","horizontal","vertical"];var ne=C({name:"QScrollObserver",props:{axis:{type:String,validator:e=>te.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:m}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let a=null,n,r;S(()=>e.scrollTarget,()=>{h(),y()});function u(){a!==null&&a();const b=Math.max(0,J(n)),p=X(n),i={top:b-l.position.top,left:p-l.position.left};if(e.axis==="vertical"&&i.top===0||e.axis==="horizontal"&&i.left===0)return;const g=Math.abs(i.top)>=Math.abs(i.left)?i.top<0?"up":"down":i.left<0?"left":"right";l.position={top:b,left:p},l.directionChanged=l.direction!==g,l.delta=i,l.directionChanged===!0&&(l.direction=g,l.inflectionPoint=l.position),m("scroll",{...l})}function y(){n=K(r,e.scrollTarget),n.addEventListener("scroll",s,E),s(!0)}function h(){n!==void 0&&(n.removeEventListener("scroll",s,E),n=void 0)}function s(b){if(b===!0||e.debounce===0||e.debounce==="0")u();else if(a===null){const[p,i]=e.debounce?[setTimeout(u,e.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];a=()=>{i(p),a=null}}}const{proxy:w}=P();return S(()=>w.$q.lang.rtl,u),j(()=>{r=w.$el.parentNode,y()}),_(()=>{a!==null&&a(),h()}),Object.assign(w,{trigger:s,getPosition:()=>l}),I}}),se=C({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:m,emit:l}){const{proxy:{$q:a}}=P(),n=z(null),r=z(a.screen.height),u=z(e.container===!0?0:a.screen.width),y=z({position:0,direction:"down",inflectionPoint:0}),h=z(0),s=z(Y.value===!0?0:B()),w=c(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),b=c(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),p=c(()=>s.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),i=c(()=>s.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function g(o){if(e.container===!0||document.qScrollPrevented!==!0){const d={position:o.position.top,direction:o.direction,directionChanged:o.directionChanged,inflectionPoint:o.inflectionPoint.top,delta:o.delta.top};y.value=d,e.onScroll!==void 0&&l("scroll",d)}}function T(o){const{height:d,width:x}=o;let L=!1;r.value!==d&&(L=!0,r.value=d,e.onScrollHeight!==void 0&&l("scrollHeight",d),$()),u.value!==x&&(L=!0,u.value=x),L===!0&&e.onResize!==void 0&&l("resize",o)}function H({height:o}){h.value!==o&&(h.value=o,$())}function $(){if(e.container===!0){const o=r.value>h.value?B():0;s.value!==o&&(s.value=o)}}let t=null;const v={instances:{},view:c(()=>e.view),isContainer:c(()=>e.container),rootRef:n,height:r,containerHeight:h,scrollbarWidth:s,totalWidth:c(()=>u.value+s.value),rows:c(()=>{const o=e.view.toLowerCase().split(" ");return{top:o[0].split(""),middle:o[1].split(""),bottom:o[2].split("")}}),header:Q({size:0,offset:0,space:!1}),right:Q({size:300,offset:0,space:!1}),footer:Q({size:0,offset:0,space:!1}),left:Q({size:300,offset:0,space:!1}),scroll:y,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(o,d,x){v[o][d]=x}};if(k(O,v),B()>0){let x=function(){o=null,d.classList.remove("hide-scrollbar")},L=function(){if(o===null){if(d.scrollHeight>a.screen.height)return;d.classList.add("hide-scrollbar")}else clearTimeout(o);o=setTimeout(x,300)},R=function(F){o!==null&&F==="remove"&&(clearTimeout(o),x()),window[`${F}EventListener`]("resize",L)},o=null;const d=document.body;S(()=>e.container!==!0?"add":"remove",R),e.container!==!0&&R("add"),Z(()=>{R("remove")})}return()=>{const o=ee(m.default,[f(ne,{onScroll:g}),f(V,{onResize:T})]),d=f("div",{class:w.value,style:b.value,ref:e.container===!0?void 0:n,tabindex:-1},o);return e.container===!0?f("div",{class:"q-layout-container overflow-hidden",ref:n},[f(V,{onResize:H}),f("div",{class:"absolute-full",style:p.value},[f("div",{class:"scroll",style:i.value},[d])])]):d}}});export{se as Q,le as a,ie as b,re as c,ne as d};
