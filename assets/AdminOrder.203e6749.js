import{Q as p,a}from"./QItem.8ea72442.js";import{H as k,b6 as x,V as v,j as i,J as d,K as t,l as c,N as m,d as e,M as l,O as w,k as o,aU as h,F as y,aK as g,b0 as u}from"./index.63f5ccbc.js";import{Q as b}from"./QPage.8ad68dfe.js";const Q={class:"container"},D=c("h6",{style:{"font-weight":"600"}},"\u7BA1\u7406\u8005\u8A02\u55AE",-1),S={style:{"max-width":"100%"}},q={class:"q-pa-md q-gutter-md"},I={__name:"AdminOrder",setup(B){const f=k([]);return(async()=>{try{const{data:_}=await x.get("/orders/all");f.push(..._.result.map(r=>(r.totalPrice=r.products.reduce((s,n)=>s+n.p_id.price*n.quantity,0),r)))}catch{v.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u8A02\u55AE\u5931\u6557"})}})(),(_,r)=>(i(),d(b,{class:"bg"},{default:t(()=>[c("div",Q,[D,c("div",S,[c("div",q,[m((i(),d(p,{clickable:"",class:"text-center"},{default:t(()=>[e(a,null,{default:t(()=>[l("\u5546\u54C1ID")]),_:1}),e(a,null,{default:t(()=>[l("\u8CFC\u8CB7\u4EBA")]),_:1}),e(a,null,{default:t(()=>[l("\u65E5\u671F")]),_:1}),e(a,null,{default:t(()=>[l("\u7E3D\u91D1\u984D")]),_:1}),e(a,null,{default:t(()=>[l("\u5546\u54C1\u9805\u76EE")]),_:1})]),_:1})),[[g]]),e(w),(i(!0),o(y,null,h(f,s=>m((i(),d(p,{clickable:"",class:"text-center",style:{background:"#fff"},key:s._id},{default:t(()=>[e(a,null,{default:t(()=>[l(u(s._id),1)]),_:2},1024),e(a,null,{default:t(()=>[l(u(s.u_id.account),1)]),_:2},1024),e(a,null,{default:t(()=>[l(u(new Date(s.date).toLocaleDateString()),1)]),_:2},1024),e(a,null,{default:t(()=>[l(u(s.totalPrice)+" \u5143",1)]),_:2},1024),e(a,null,{default:t(()=>[c("ul",null,[(i(!0),o(y,null,h(s.products,n=>(i(),o("li",{key:n._id},u(n.quantity+" \u500B "+n.p_id.name),1))),128))])]),_:2},1024)]),_:2},1024)),[[g]])),128))])])])]),_:1}))}};export{I as default};
